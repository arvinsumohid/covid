(this.webpackJsonpcovid=this.webpackJsonpcovid||[]).push([[0],{27:function(e,t,a){e.exports=a(47)},32:function(e,t,a){},37:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),o=a.n(c),l=(a(32),a(4)),u=a(11),i=a(3),s=a(14),m=(a(37),function(e){var t=e.result;return r.a.createElement("ul",{className:"search-result"},t.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(u.b,{to:"/".concat(e.Slug)},e.Country))})))});a(39);var d=function(){var e=Object(l.c)((function(e){return e})).countries,t=Object(n.useState)([]),a=Object(s.a)(t,2),c=a[0],o=a[1],u=function(t){var a=t.target.value;!function(e){var t=[];e.forEach((function(e){t.push(e)})),o(t)}(Object.values(e).filter((function(e){return!0===e.Country.toLowerCase().includes(a.toLowerCase())})))};return r.a.createElement("div",{className:"search"},r.a.createElement("input",{type:"text",onChange:function(e){return u(e)},name:"search",placeholder:"Country",autoComplete:"off"}),r.a.createElement(m,{result:c}))},E=(a(40),function(){return r.a.createElement("header",null,r.a.createElement(d,null),r.a.createElement("div",{className:"homebox"},r.a.createElement(u.b,{to:"/"},"Home")))}),f=function(e){var t=e.children;return r.a.createElement("div",null,r.a.createElement(E,null),t)},h=a(9),v=(a(41),function(e){var t=e.className,a=void 0===t?"":t,n=e.children,c=Object(h.a)(e,["className","children"]);return r.a.createElement("div",Object.assign({className:"container ".concat(a)},c),n)}),p=(a(42),function(e){var t=e.className,a=void 0===t?"":t,n=e.children,c=Object(h.a)(e,["className","children"]);return r.a.createElement("div",Object.assign({className:"row ".concat(a)},c),n)}),C=(a(43),function(e){var t=e.className,a=void 0===t?"":t,n=e.children,c=Object(h.a)(e,["className","children"]);return r.a.createElement("div",Object.assign({className:"column ".concat(a)},c),n)}),O=(a(44),function(e){var t=e.title,a=e.value;return r.a.createElement(p,{className:"align-center"},r.a.createElement(C,{className:"large-12"},r.a.createElement("h3",null,t)),r.a.createElement(C,{className:"large-12"},r.a.createElement("p",null,a)))}),b=(a(45),function(e){var t=e.classname,a=void 0===t?"":t,n=e.text;return r.a.createElement("div",{className:"heading ".concat(a)},r.a.createElement("h2",null,n))}),j=function(){var e=Object(l.c)((function(e){return e.summary})).summary,t=Object(l.c)((function(e){return e})).error;function a(e,t){return r.a.createElement(v,{key:t,className:"large-6 space-bottom-3"},r.a.createElement(b,{text:e.heading}),e.data.map((function(e,t){return function(e,t){return r.a.createElement(O,{key:t,title:e.title,value:e.value})}(e,t)})))}return e?t?r.a.createElement(f,null,r.a.createElement(v,{className:"text-center holder large-10 space-top-5"},t)):r.a.createElement(f,null,r.a.createElement(v,{className:"text-center holder large-10 space-top-5"},e.map((function(e,t){return a(e,t)})))):r.a.createElement(f,null,r.a.createElement(v,{className:"text-center holder large-10 space-top-5"},"Loading"))},y=a(24),g=function(e){var t=e.data;e.options;return console.log(t),r.a.createElement(y.a,{width:"100%",height:"400px",chartType:"LineChart",loader:r.a.createElement("div",null,"Loading Chart"),data:t,options:{hAxis:{title:"Month"},vAxis:{title:"Numbers"}},rootProps:{"data-testid":"1"}})},N=a(2);function T(e){if(!e.ok)throw Error(e.statusText);return e}var _=function(){return function(e){return e({type:"FETCH_COUNTRIES_BEGIN"}),fetch("".concat("https://api.covid19api.com/countries"),{headers:{"Content-Type":"application/json"}}).then(T).then((function(e){return e.json()})).then((function(t){return e({type:"FETCH_COUNTRIES_SUCCESS",payload:Object(N.a)({},t)}),t})).catch((function(t){e({type:"FETCH_COUNTRIES_FAILURE",payload:{error:t}})}))}},R=function(e){return function(t){return t({type:"FETCH_COUNTRY_BEGIN"}),fetch("".concat("https://api.covid19api.com/total/country","/").concat(e),{headers:{"Content-Type":"application/json"}}).then(T).then((function(e){return e.json()})).then((function(e){return t({type:"FETCH_COUNTRY_SUCCESS",payload:Object(N.a)({},e)}),e})).catch((function(e){t({type:"FETCH_COUNTRY_FAILURE",payload:{error:e}})}))}},S=function(e){return function(e){return e({type:"FETCH_SUMMARY_BEGIN"}),fetch("".concat("https://api.covid19api.com/summary"),{headers:{"Content-Type":"application/json"}}).then(T).then((function(e){return e.json()})).then((function(t){return e({type:"FETCH_SUMMARY_SUCCESS",payload:Object(N.a)({},t)}),t})).catch((function(t){e({type:"FETCH_SUMMARY_FAILURE",payload:{error:t}})}))}},U=function(e){var t=Object(l.b)(),a=e.match.params.country,c=Object(l.c)((function(e){return e})),o=c.selectedCountry,u=c.loading,i=c.error,m=Object(n.useState)(null),d=Object(s.a)(m,2),E=d[0],h=d[1],p=Object(n.useState)([]),C=Object(s.a)(p,2),j=C[0],y=C[1];Object(n.useEffect)((function(){t(R("".concat(a)))}),[t,a]),Object(n.useEffect)((function(){if(o){var e=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],t=[["Month","Death","Recovered","Active"]];Object.values(o).forEach((function(a,n,r){var c=new Date(a.Date).getMonth(),o=n>0?new Date(r[n-1].Date).getMonth():null,l=r[n],u=r[n-1],i=r.length;if(null!==o&&o!==c?t.push([e[o],u.Deaths,u.Recovered,u.Active]):n+1===i&&t.push([e[c],l.Deaths,l.Recovered,l.Active]),n+1===i){var s=new Date(a.Date);h({heading:[a.Country,"".concat(e[c]," ").concat(s.getDate(),", ").concat(s.getFullYear())],row:[{title:"Confirmed",value:a.Confirmed},{title:"Active",value:a.Active},{title:"Recovered",value:a.Recovered},{title:"Deaths",value:a.Deaths}]})}})),y(t)}}),[o]);return u?r.a.createElement(f,null,r.a.createElement(v,{className:"text-center holder large-10 space-top-5"},"Loading")):i?r.a.createElement(f,null,r.a.createElement(v,{className:"text-center holder large-10 space-top-5"},i)):r.a.createElement(f,null,r.a.createElement(v,{className:"text-center holder large-10 space-top-5"},r.a.createElement(v,{className:"large-10 space-bottom-3"},function(){if(E)return E.heading.map((function(e,t){return r.a.createElement(b,{key:t,text:e})}))}(),function(){if(E)return E.row.map((function(e,t){return r.a.createElement(O,{key:t,title:e.title,value:e.value})}))}(),o&&r.a.createElement(g,{data:j}))))},F=function(){return r.a.createElement(u.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{key:"country",path:"/covid/:country",component:U}),r.a.createElement(i.a,{key:"home",path:"/covid/",component:j})))},A=function(e){var t=e.classname,a=void 0===t?"":t,c=e.children,o=Object(h.a)(e,["classname","children"]),u=Object(l.b)();return Object(n.useEffect)((function(){u(_()),u(S())}),[u]),r.a.createElement("main",Object.assign({className:"".concat(a)},o),c)};a(46);var w=function(){var e=Object(l.b)();return Object(n.useEffect)((function(){e(_()),e(S())}),[e]),r.a.createElement(A,null,r.a.createElement(F,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=a(13),H={countries:{},loading:!1,error:null,selectedCountry:{},summary:{}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_COUNTRIES_BEGIN":return Object(N.a)(Object(N.a)({},e),{},{loading:!0,error:null});case"FETCH_COUNTRIES_SUCCESS":return Object(N.a)(Object(N.a)({},e),{},{loading:!1,countries:t.payload});case"FETCH_COUNTRIES_FAILURE":return Object(N.a)(Object(N.a)({},e),{},{loading:!1,error:t.payload.error,countries:{}});case"FETCH_SUMMARY_BEGIN":return Object(N.a)(Object(N.a)({},e),{},{loading:!0,error:null});case"FETCH_SUMMARY_SUCCESS":var a=t.payload,n=a.Global,r=a.Date,c=Object(N.a)({},n),o=c.NewConfirmed,l=c.NewDeaths,u=c.NewRecovered,i=c.TotalConfirmed,s=c.TotalDeaths,m=c.TotalRecovered,d={summary:[{heading:"Total",data:[{title:"Confirmed",value:i},{title:"Recovered",value:m},{title:"Deaths",value:s}]},{heading:"New",data:[{title:"Confirmed",value:o},{title:"Recovered",value:u},{title:"Deaths",value:l}]}],Date:r};return Object(N.a)(Object(N.a)({},e),{},{loading:!1,summary:d});case"FETCH_SUMMARY_FAILURE":return Object(N.a)(Object(N.a)({},e),{},{loading:!1,error:t.payload.error,summary:{}});case"FETCH_COUNTRY_BEGIN":return Object(N.a)(Object(N.a)({},e),{},{loading:!0,error:null});case"FETCH_COUNTRY_SUCCESS":return Object(N.a)(Object(N.a)({},e),{},{loading:!1,selectedCountry:t.payload});case"FETCH_COUNTRY_FAILURE":return Object(N.a)(Object(N.a)({},e),{},{loading:!1,error:t.payload.error,selectedCountry:{}});default:return e}},M=a(26),x=Object(D.c)(I,Object(D.a)(M.a));o.a.render(r.a.createElement(l.a,{store:x},r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.4d3e32a9.chunk.js.map